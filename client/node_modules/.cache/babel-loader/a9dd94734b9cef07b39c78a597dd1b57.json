{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/andrescampovalencia/Desktop/13Dic2020 EcommerceAdmin/client/src/components/vistas/profileUser.js\";\nimport React, { Component } from \"react\";\nimport { BootstrapTable, TableHeaderColumn } from \"react-bootstrap-table\";\nimport Axios from \"axios\";\nimport Header from \"../HeaderDash\";\nimport Progress from \"../progress\"; // https://www.js-tutorials.com/nodejs-tutorial/nodejs-example-upload-store-image-mysql-express-js/\n\nconst cellEdit = {\n  mode: \"dbclick\",\n  blurToSave: true,\n  afterSaveCell: onAfterSaveCell\n}; // Start Crud Update Table Usuario\n\nfunction onAfterSaveCell(row, cellName, cellValue) {\n  alert(`Save column ${cellName} with value ${cellValue}`);\n  console.log(cellName);\n  console.log(cellValue);\n  console.log(row.idUsuario);\n  let rowStr = \"\";\n\n  for (const prop in row) {\n    rowStr += prop + \": \" + row[prop] + \"\\n\";\n  } // alert(\"The updated row :\\n\" + rowStr);\n\n\n  alert(\"Updated Column with id : \" + row.idUsuario);\n  const column = cellName;\n  const value = cellValue;\n  const id = row.idUsuario;\n  const urlA = \"/updateUserInfo\"; // table usuario\n\n  const updateProductA = {\n    column: column,\n    value: value,\n    id: id\n  };\n  Axios.post(urlA, updateProductA).then(res => {//\n  }).catch(e => {//handle your errors\n  });\n}\n\nclass profileUser extends Component {\n  constructor() {\n    super();\n\n    this.fileSelectedHandler = event => {\n      console.log(\"fileSelectedHandler\" + event.target.files[0]);\n      console.log(\"fileSelectedHandler\" + event.target.files[0].name);\n      var nombreFile = event.target.files[0].name;\n      this.setState({\n        selectedFile: event.target.files[0],\n        selectedFileImagen: \"http://andresteccorp.club/ecom_val/imagenesProyecto/imagenUsuario/\" + nombreFile\n      });\n    };\n\n    this.fileUploadHandler = () => {\n      const formData = new FormData();\n      const setUploadPorcentage = this.state.setUploadPorcentage;\n      let url = \"http://andresteccorp.club/ecom_val/imagenUploadsUsuario.php\"; // get the idUsuario\n\n      var idUsuario = this.state.usuarioP.map(function (item) {\n        return item.idUsuario;\n      });\n      formData.append(\"fileImageUsuario\", this.state.selectedFile);\n      formData.set(\"idUsuario\", idUsuario);\n      Axios.post(url, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        onUploadProgress: progressEvent => {\n          this.setState({\n            setUploadPorcentage: parseInt(Math.round(progressEvent.loaded * 100 / progressEvent.total))\n          }); // clear percentage\n          //setTimeout(()=> setUploadPorcentage(0),10000);\n        }\n      }).then(res => {\n        const auth = res.data;\n        console.log(\"auth----\" + auth);\n        console.log(\"auth----\" + auth.length);\n\n        if (auth) {\n          alert(\"Imagen subida Satisfactoriamente\");\n\n          if (this.state.setUploadPorcentage == 100) {\n            this.componentDidMount();\n          }\n        } else {\n          alert(\"Problemas en Subir Imagen\" + \"\\nTratar de Nuevo\");\n        }\n      }).catch(e => {//handle your errors\n      });\n    };\n\n    this.state = {\n      usuarioP: [],\n      selectedFile: null,\n      selectedFileImagen: \"\",\n      setUploadPorcentage: 0,\n      setUploadFile: \"\"\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/usuarioInfo\").then(res => res.json()).then(usuarioP => this.setState({\n      usuarioP\n    }, () => console.log(\"Usuario fetched...\", usuarioP)));\n  }\n\n  render() {\n    const options = {\n      afterTableComplete: this.handleTableComplete\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        title1: \" Administrator Informacion\",\n        title2: \"Home\",\n        ruta: \"/homeAdmin\",\n        opcion1: \"Exit\",\n        rutaOpcion1: \"\",\n        opcion2: \"opcion2\",\n        opcion3: \"opcion3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: 60,\n              fontFamily: \"fantasy\",\n              marginTop: \"30px\",\n              marginLeft: \"350px\"\n            },\n            children: \"Usuario Informacion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            children: this.state.usuarioP.map(user => /*#__PURE__*/_jsxDEV(\"img\", {\n              style: {\n                marginTop: \"30px\",\n                marginBottom: \"30px\",\n                marginLeft: \"120px\",\n                marginRight: \"50px\",\n                justifyContent: \"center\",\n                alignItems: \"center\"\n              },\n              width: 400,\n              height: 400,\n              src: user.imagenUsuario,\n              alt: \"Nombre de la imagen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              width: 250,\n              height: 25,\n              borderWidth: 1,\n              margin: 10\n            },\n            children: this.state.setUploadFile.fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 200,\n            height: 25,\n            borderWidth: 5,\n            margin: 10\n          },\n          children: /*#__PURE__*/_jsxDEV(Progress, {\n            percentage: this.state.setUploadPorcentage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 150,\n            height: 150,\n            borderWidth: 1,\n            margin: 10,\n            flexDirection: \"row\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              display: \"none\"\n            },\n            type: \"file\",\n            onChange: this.fileSelectedHandler,\n            ref: fileInput => this.fileInput = fileInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              width: 200,\n              height: 55,\n              fontSize: 20,\n              borderRadius: 25,\n              paddingHorizontal: 30,\n              paddingVertical: 5,\n              fontWeight: \"500\",\n              background: \"#BDC3C7\"\n            },\n            onClick: () => this.fileInput.click(),\n            children: \"Pick file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              width: 200,\n              height: 55,\n              fontSize: 20,\n              borderRadius: 25,\n              paddingHorizontal: 30,\n              paddingVertical: 5,\n              fontWeight: \"500\",\n              background: \"#BDC3C7\"\n            },\n            onClick: this.fileUploadHandler,\n            children: \"Subir imagen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: \"50px\",\n            marginLeft: \"150px\",\n            marginRight: \"150px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(BootstrapTable, {\n            data: this.state.usuarioP,\n            striped: true,\n            cellEdit: cellEdit,\n            options: options,\n            children: [/*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n              width: \"150\",\n              dataField: \"idUsuario\",\n              isKey: true,\n              children: \"Id Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n              width: \"150\",\n              dataField: \"nombreUsuario\",\n              children: \"Nombre Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n              width: \"150\",\n              dataField: \"apellidoUsuario\",\n              children: \"Apellido Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n              width: \"150\",\n              dataField: \"correoUsuario\",\n              children: \"Correo Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n              width: \"150\",\n              dataField: \"direccionUsuario\",\n              children: \"Direcci\\xF3n Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n              width: \"150\",\n              dataField: \"telefonoUsuario\",\n              children: \"Telefono Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n              width: \"150\",\n              dataField: \"passW\",\n              children: \"PassWord Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default profileUser;\n/**\n *  <ul>\n              {this.state.usuarioP.map(user => (\n                <img\n                  style={{\n                    marginTop: \"30px\",\n                    marginBottom: \"30px\",\n                    marginLeft: \"120px\",\n                    marginRight: \"50px\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\"\n                  }}\n                  width={400}\n                  height={400}\n                  src={user.imagenUsuario}\n                  alt=\"Card image cap\"\n                />\n              ))}\n            </ul>\n */","map":{"version":3,"sources":["/Users/andrescampovalencia/Desktop/13Dic2020 EcommerceAdmin/client/src/components/vistas/profileUser.js"],"names":["React","Component","BootstrapTable","TableHeaderColumn","Axios","Header","Progress","cellEdit","mode","blurToSave","afterSaveCell","onAfterSaveCell","row","cellName","cellValue","alert","console","log","idUsuario","rowStr","prop","column","value","id","urlA","updateProductA","post","then","res","catch","e","profileUser","constructor","fileSelectedHandler","event","target","files","name","nombreFile","setState","selectedFile","selectedFileImagen","fileUploadHandler","formData","FormData","setUploadPorcentage","state","url","usuarioP","map","item","append","set","headers","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","auth","data","length","componentDidMount","setUploadFile","fetch","json","render","options","afterTableComplete","handleTableComplete","fontSize","fontFamily","marginTop","marginLeft","user","marginBottom","marginRight","justifyContent","alignItems","imagenUsuario","width","height","borderWidth","margin","fileName","flexDirection","display","fileInput","borderRadius","paddingHorizontal","paddingVertical","fontWeight","background","click"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BootstrapTable, TableHeaderColumn } from \"react-bootstrap-table\";\nimport Axios from \"axios\";\nimport Header from \"../HeaderDash\";\nimport Progress from \"../progress\";\n\n// https://www.js-tutorials.com/nodejs-tutorial/nodejs-example-upload-store-image-mysql-express-js/\n\nconst cellEdit = {\n  mode: \"dbclick\",\n  blurToSave: true,\n  afterSaveCell: onAfterSaveCell,\n};\n\n// Start Crud Update Table Usuario\nfunction onAfterSaveCell(row, cellName, cellValue) {\n  alert(`Save column ${cellName} with value ${cellValue}`);\n  console.log(cellName);\n  console.log(cellValue);\n  console.log(row.idUsuario);\n  let rowStr = \"\";\n  for (const prop in row) {\n    rowStr += prop + \": \" + row[prop] + \"\\n\";\n  }\n  // alert(\"The updated row :\\n\" + rowStr);\n  alert(\"Updated Column with id : \" + row.idUsuario);\n\n  const column = cellName;\n  const value = cellValue;\n  const id = row.idUsuario;\n  const urlA = \"/updateUserInfo\"; // table usuario\n  const updateProductA = {\n    column: column,\n    value: value,\n    id: id,\n  };\n\n  Axios.post(urlA, updateProductA)\n    .then((res) => {\n      //\n    })\n    .catch((e) => {\n      //handle your errors\n    });\n}\n\nclass profileUser extends Component {\n  constructor() {\n    super();\n    this.state = {\n      usuarioP: [],\n      selectedFile: null,\n      selectedFileImagen: \"\",\n      setUploadPorcentage: 0,\n      setUploadFile: \"\",\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/usuarioInfo\")\n      .then((res) => res.json())\n      .then((usuarioP) =>\n        this.setState({ usuarioP }, () =>\n          console.log(\"Usuario fetched...\", usuarioP)\n        )\n      );\n  }\n\n  fileSelectedHandler = (event) => {\n    console.log(\"fileSelectedHandler\" + event.target.files[0]);\n    console.log(\"fileSelectedHandler\" + event.target.files[0].name);\n    var nombreFile = event.target.files[0].name;\n\n    this.setState({\n      selectedFile: event.target.files[0],\n      selectedFileImagen:\n        \"http://andresteccorp.club/ecom_val/imagenesProyecto/imagenUsuario/\" +\n        nombreFile,\n    });\n  };\n\n  fileUploadHandler = () => {\n    const formData = new FormData();\n    const setUploadPorcentage = this.state.setUploadPorcentage;\n    let url = \"http://andresteccorp.club/ecom_val/imagenUploadsUsuario.php\";\n\n    // get the idUsuario\n\n    var idUsuario = this.state.usuarioP.map(function (item) {\n      return item.idUsuario;\n    });\n\n    formData.append(\"fileImageUsuario\", this.state.selectedFile);\n\n    formData.set(\"idUsuario\", idUsuario);\n    Axios.post(url, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n      onUploadProgress: (progressEvent) => {\n        this.setState({\n          setUploadPorcentage: parseInt(\n            Math.round((progressEvent.loaded * 100) / progressEvent.total)\n          ),\n        });\n\n        // clear percentage\n        //setTimeout(()=> setUploadPorcentage(0),10000);\n      },\n    })\n\n      .then((res) => {\n        const auth = res.data;\n\n        console.log(\"auth----\" + auth);\n\n        console.log(\"auth----\" + auth.length);\n        if (auth) {\n          alert(\"Imagen subida Satisfactoriamente\");\n          if (this.state.setUploadPorcentage == 100) {\n            this.componentDidMount();\n          }\n        } else {\n          alert(\"Problemas en Subir Imagen\" + \"\\nTratar de Nuevo\");\n        }\n      })\n      .catch((e) => {\n        //handle your errors\n      });\n  };\n\n  render() {\n    const options = {\n      afterTableComplete: this.handleTableComplete,\n    };\n\n    return (\n      <div>\n        <Header\n          title1=\"\n          Administrator Informacion\"\n          title2=\"Home\"\n          ruta=\"/homeAdmin\"\n          opcion1=\"Exit\"\n          rutaOpcion1=\"\"\n          opcion2=\"opcion2\"\n          opcion3=\"opcion3\"\n        />\n\n        <div>\n          <div>\n            <h3\n              style={{\n                fontSize: 60,\n                fontFamily: \"fantasy\",\n                marginTop: \"30px\",\n                marginLeft: \"350px\",\n              }}\n            >\n              Usuario Informacion\n            </h3>\n          </div>\n\n          <div>\n            <ul>\n              {this.state.usuarioP.map((user) => (\n                <img\n                  style={{\n                    marginTop: \"30px\",\n                    marginBottom: \"30px\",\n                    marginLeft: \"120px\",\n                    marginRight: \"50px\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                  }}\n                  width={400}\n                  height={400}\n                  src={user.imagenUsuario}\n                  alt=\"Nombre de la imagen\"\n                />\n              ))}\n            </ul>\n\n            <h3\n              style={{\n                width: 250,\n                height: 25,\n                borderWidth: 1,\n                margin: 10,\n              }}\n            >\n              {this.state.setUploadFile.fileName}\n            </h3>\n          </div>\n          <div\n            style={{\n              width: 200,\n              height: 25,\n              borderWidth: 5,\n              margin: 10,\n            }}\n          >\n            <Progress percentage={this.state.setUploadPorcentage} />\n          </div>\n          <div\n            style={{\n              width: 150,\n              height: 150,\n              borderWidth: 1,\n              margin: 10,\n              flexDirection: \"row\",\n            }}\n          >\n            <input\n              style={{ display: \"none\" }}\n              type=\"file\"\n              onChange={this.fileSelectedHandler}\n              ref={(fileInput) => (this.fileInput = fileInput)}\n            />\n            <button\n              style={{\n                width: 200,\n                height: 55,\n\n                fontSize: 20,\n                borderRadius: 25,\n                paddingHorizontal: 30,\n                paddingVertical: 5,\n                fontWeight: \"500\",\n                background: \"#BDC3C7\",\n              }}\n              onClick={() => this.fileInput.click()}\n            >\n              Pick file\n            </button>\n            <button\n              style={{\n                width: 200,\n                height: 55,\n\n                fontSize: 20,\n                borderRadius: 25,\n                paddingHorizontal: 30,\n                paddingVertical: 5,\n                fontWeight: \"500\",\n                background: \"#BDC3C7\",\n              }}\n              onClick={this.fileUploadHandler}\n            >\n              Subir imagen\n            </button>\n          </div>\n\n          <div\n            style={{\n              marginTop: \"50px\",\n              marginLeft: \"150px\",\n              marginRight: \"150px\",\n            }}\n          >\n            <BootstrapTable\n              data={this.state.usuarioP}\n              striped\n              cellEdit={cellEdit}\n              options={options}\n            >\n              <TableHeaderColumn width=\"150\" dataField=\"idUsuario\" isKey={true}>\n                Id Usuario\n              </TableHeaderColumn>\n              <TableHeaderColumn width=\"150\" dataField=\"nombreUsuario\">\n                Nombre Usuario\n              </TableHeaderColumn>\n              <TableHeaderColumn width=\"150\" dataField=\"apellidoUsuario\">\n                Apellido Usuario\n              </TableHeaderColumn>\n              <TableHeaderColumn width=\"150\" dataField=\"correoUsuario\">\n                Correo Usuario\n              </TableHeaderColumn>\n              <TableHeaderColumn width=\"150\" dataField=\"direccionUsuario\">\n                Dirección Usuario\n              </TableHeaderColumn>\n              <TableHeaderColumn width=\"150\" dataField=\"telefonoUsuario\">\n                Telefono Usuario\n              </TableHeaderColumn>\n              <TableHeaderColumn width=\"150\" dataField=\"passW\">\n                PassWord Usuario\n              </TableHeaderColumn>\n            </BootstrapTable>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default profileUser;\n\n/**\n *  <ul>\n              {this.state.usuarioP.map(user => (\n                <img\n                  style={{\n                    marginTop: \"30px\",\n                    marginBottom: \"30px\",\n                    marginLeft: \"120px\",\n                    marginRight: \"50px\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\"\n                  }}\n                  width={400}\n                  height={400}\n                  src={user.imagenUsuario}\n                  alt=\"Card image cap\"\n                />\n              ))}\n            </ul>\n */\n"]},"metadata":{},"sourceType":"module"}