{"ast":null,"code":"import _classCallCheck from\"/Users/andrescampovalencia/Desktop/S_Proyectos/BackupShop2/13Dic2020 EcommerceAdmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/andrescampovalencia/Desktop/S_Proyectos/BackupShop2/13Dic2020 EcommerceAdmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/andrescampovalencia/Desktop/S_Proyectos/BackupShop2/13Dic2020 EcommerceAdmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/andrescampovalencia/Desktop/S_Proyectos/BackupShop2/13Dic2020 EcommerceAdmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{BootstrapTable,TableHeaderColumn}from\"react-bootstrap-table\";import Axios from\"axios\";import Header from\"../HeaderDash\";import Progress from\"../progress\";// https://www.js-tutorials.com/nodejs-tutorial/nodejs-example-upload-store-image-mysql-express-js/\nvar cellEdit={mode:\"dbclick\",blurToSave:true,afterSaveCell:onAfterSaveCell};// Start Crud Update Table Commercio\nfunction onAfterSaveCell(row,cellName,cellValue){alert(\"Save column \".concat(cellName,\" with value \").concat(cellValue));console.log(cellName);console.log(cellValue);console.log(row.idComercio);var rowStr=\"\";for(var prop in row){rowStr+=prop+\": \"+row[prop]+\"\\n\";}// alert(\"The updated row :\\n\" + rowStr);\nalert(\"Updated Column with id : \"+row.idComercio);var column=cellName;var value=cellValue;var id=row.idComercio;var urlA=\"/updateCommerceInfo\";// table comercio\nvar updateComercio={column:column,value:value,id:id};Axios.post(urlA,updateComercio).then(function(res){//\n}).catch(function(e){//handle your errors\n});}var storeInfo=/*#__PURE__*/function(_Component){_inherits(storeInfo,_Component);var _super=_createSuper(storeInfo);function storeInfo(){var _this;_classCallCheck(this,storeInfo);_this=_super.call(this);_this.fileSelectedHandler=function(event){console.log(\"Desde FSH\"+event.target.files[0]);_this.setState({selectedFile:event.target.files[0]});};_this.fileUploadHandler=function(){var formData=new FormData();var setUploadPorcentage=_this.state.setUploadPorcentage;var url=\"http://andresteccorp.club/TesisAndres/imagenUploadsComercio.php\";// get the idComercio\nvar idComercio=_this.state.comercio.map(function(item){return item.idComercio;});formData.append(\"fileImageComercio\",_this.state.selectedFile);formData.set(\"idComercio\",idComercio);console.log(\"Desde FUH\"+idComercio,formData);Axios.post(url,formData,{headers:{\"Content-Type\":\"multipart/form-data\"},onUploadProgress:function onUploadProgress(progressEvent){_this.setState({setUploadPorcentage:parseInt(Math.round(progressEvent.loaded*100/progressEvent.total))});//this.componentDidMount();\n// clear percentage\n//setTimeout(()=> setUploadPorcentage(0),10000);\n}}).then(function(res){var auth=res.data;console.log(\"auth----\"+auth);// console.log(\"auth----\" + auth.length);\nif(auth){alert(\"Imagen subida Satisfactoriamente\");}if(_this.state.setUploadPorcentage==100){_this.componentDidMount();}else{alert(\"Problemas en Subir Imagen\"+\"\\nTratar de Nuevo\");}}).catch(function(e){//handle your errors\n});};_this.state={comercio:[],selectedFile:null,setUploadPorcentage:0,setUploadFile:\"\"};return _this;}_createClass(storeInfo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"/commerceInfo\").then(function(res){return res.json();}).then(function(comercio){return _this2.setState({comercio:comercio},function(){return console.log(\"Comercio fetched...\",comercio);});});}// uploadImg\n},{key:\"render\",value:function render(){var _this3=this;var options={afterTableComplete:this.handleTableComplete};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{title1:\" Administrator Informacion\",title2:\"Home\",ruta:\"/homeAdmin\",opcion1:\"Exit\",rutaOpcion1:\"\",opcion2:\"opcion2\",opcion3:\"opcion3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:60,fontFamily:\"fantasy\",marginTop:\"30px\",marginLeft:\"350px\"},children:\"Comercio Informacion\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"ul\",{children:this.state.comercio.map(function(comercio){return/*#__PURE__*/_jsx(\"img\",{style:{marginTop:\"30px\",marginBottom:\"30px\",marginLeft:\"120px\",marginRight:\"50px\",justifyContent:\"center\",alignItems:\"center\"},width:400,height:400,src:comercio.imagenComercio,alt:\"Card image cap\"});})}),/*#__PURE__*/_jsx(\"h3\",{style:{width:250,height:25,borderWidth:1,margin:10},children:this.state.setUploadFile.fileName})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:200,height:25,borderWidth:5,margin:10},children:/*#__PURE__*/_jsx(Progress,{percentage:this.state.setUploadPorcentage})}),/*#__PURE__*/_jsxs(\"div\",{style:{width:150,height:150,borderWidth:1,margin:10,flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(\"input\",{style:{display:\"none\"},type:\"file\",onChange:this.fileSelectedHandler,ref:function ref(fileInput){return _this3.fileInput=fileInput;}}),/*#__PURE__*/_jsx(\"button\",{style:{width:200,height:55,fontSize:20,borderRadius:25,paddingHorizontal:30,paddingVertical:5,fontWeight:\"500\",background:\"#BDC3C7\"},onClick:function onClick(){return _this3.fileInput.click();},children:\"Pick file\"}),/*#__PURE__*/_jsx(\"button\",{style:{width:200,height:55,fontSize:20,borderRadius:25,paddingHorizontal:30,paddingVertical:5,fontWeight:\"500\",background:\"#BDC3C7\"},onClick:this.fileUploadHandler,children:\"Subir imagen\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"50px\",marginLeft:\"150px\",marginRight:\"150px\"},children:/*#__PURE__*/_jsxs(BootstrapTable,{data:this.state.comercio,striped:true,cellEdit:cellEdit,options:options,children:[/*#__PURE__*/_jsx(TableHeaderColumn,{width:\"150\",dataField:\"idComercio\",isKey:true,children:\"Id Comercio\"}),/*#__PURE__*/_jsx(TableHeaderColumn,{width:\"150\",dataField:\"correoComercio\",children:\"Correo Comercio\"}),/*#__PURE__*/_jsx(TableHeaderColumn,{width:\"150\",dataField:\"direccionComercio\",children:\"Direccion Comercio\"}),/*#__PURE__*/_jsx(TableHeaderColumn,{width:\"150\",dataField:\"nombreTienda\",children:\"Nombre Comercio\"}),/*#__PURE__*/_jsx(TableHeaderColumn,{width:\"150\",dataField:\"detalleComercio\",children:\"Detalle Comercio\"}),/*#__PURE__*/_jsx(TableHeaderColumn,{width:\"150\",dataField:\"telefonoComercio\",children:\"Telefono Comercio\"})]})})]})]});}}]);return storeInfo;}(Component);export default storeInfo;","map":{"version":3,"sources":["/Users/andrescampovalencia/Desktop/S_Proyectos/BackupShop2/13Dic2020 EcommerceAdmin/client/src/components/vistas/storeInfo.js"],"names":["React","Component","BootstrapTable","TableHeaderColumn","Axios","Header","Progress","cellEdit","mode","blurToSave","afterSaveCell","onAfterSaveCell","row","cellName","cellValue","alert","console","log","idComercio","rowStr","prop","column","value","id","urlA","updateComercio","post","then","res","catch","e","storeInfo","fileSelectedHandler","event","target","files","setState","selectedFile","fileUploadHandler","formData","FormData","setUploadPorcentage","state","url","comercio","map","item","append","set","headers","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","auth","data","componentDidMount","setUploadFile","fetch","json","options","afterTableComplete","handleTableComplete","fontSize","fontFamily","marginTop","marginLeft","marginBottom","marginRight","justifyContent","alignItems","imagenComercio","width","height","borderWidth","margin","fileName","flexDirection","display","fileInput","borderRadius","paddingHorizontal","paddingVertical","fontWeight","background","click"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BootstrapTable, TableHeaderColumn } from \"react-bootstrap-table\";\nimport Axios from \"axios\";\nimport Header from \"../HeaderDash\";\nimport Progress from \"../progress\";\n\n// https://www.js-tutorials.com/nodejs-tutorial/nodejs-example-upload-store-image-mysql-express-js/\n\nconst cellEdit = {\n  mode: \"dbclick\",\n  blurToSave: true,\n  afterSaveCell: onAfterSaveCell\n};\n\n// Start Crud Update Table Commercio\nfunction onAfterSaveCell(row, cellName, cellValue) {\n  alert(`Save column ${cellName} with value ${cellValue}`);\n  console.log(cellName);\n  console.log(cellValue);\n  console.log(row.idComercio);\n  let rowStr = \"\";\n  for (const prop in row) {\n    rowStr += prop + \": \" + row[prop] + \"\\n\";\n  }\n  // alert(\"The updated row :\\n\" + rowStr);\n  alert(\"Updated Column with id : \" + row.idComercio);\n\n  const column = cellName;\n  const value = cellValue;\n  const id = row.idComercio;\n  const urlA = \"/updateCommerceInfo\"; // table comercio\n  const updateComercio = {\n    column: column,\n    value: value,\n    id: id\n  };\n\n  Axios.post(urlA, updateComercio)\n    .then(res => {\n      //\n    })\n    .catch(e => {\n      //handle your errors\n    });\n}\n\nclass storeInfo extends Component {\n  constructor() {\n    super();\n    this.state = {\n      comercio: [],\n\n      selectedFile: null,\n      setUploadPorcentage: 0,\n      setUploadFile: \"\"\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/commerceInfo\")\n      .then(res => res.json())\n      .then(comercio =>\n        this.setState({ comercio }, () =>\n          console.log(\"Comercio fetched...\", comercio)\n        )\n      );\n  }\n\n  // uploadImg\n  fileSelectedHandler = event => {\n    console.log(\"Desde FSH\" + event.target.files[0]);\n\n    this.setState({\n      selectedFile: event.target.files[0]\n    });\n  };\n\n  fileUploadHandler = () => {\n    const formData = new FormData();\n    const setUploadPorcentage = this.state.setUploadPorcentage;\n    let url = \"http://andresteccorp.club/TesisAndres/imagenUploadsComercio.php\";\n\n    // get the idComercio\n\n    var idComercio = this.state.comercio.map(function(item) {\n      return item.idComercio;\n    });\n\n    formData.append(\"fileImageComercio\", this.state.selectedFile);\n\n    formData.set(\"idComercio\", idComercio);\n    console.log(\"Desde FUH\" + idComercio, formData);\n    Axios.post(url, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      },\n\n      onUploadProgress: progressEvent => {\n        this.setState({\n          setUploadPorcentage: parseInt(\n            Math.round((progressEvent.loaded * 100) / progressEvent.total)\n          )\n        });\n\n        //this.componentDidMount();\n        // clear percentage\n        //setTimeout(()=> setUploadPorcentage(0),10000);\n      }\n    })\n\n      .then(res => {\n        const auth = res.data;\n\n        console.log(\"auth----\" + auth);\n\n        // console.log(\"auth----\" + auth.length);\n        if (auth) {\n          alert(\"Imagen subida Satisfactoriamente\");\n        }\n        if (this.state.setUploadPorcentage == 100) {\n          this.componentDidMount();\n        } else {\n          alert(\"Problemas en Subir Imagen\" + \"\\nTratar de Nuevo\");\n        }\n      })\n      .catch(e => {\n        //handle your errors\n      });\n  };\n\n  render() {\n    const options = {\n      afterTableComplete: this.handleTableComplete\n    };\n\n    return (\n      <div>\n        <Header\n          title1=\"\n          Administrator Informacion\"\n          title2=\"Home\"\n          ruta=\"/homeAdmin\"\n          opcion1=\"Exit\"\n          rutaOpcion1=\"\"\n          opcion2=\"opcion2\"\n          opcion3=\"opcion3\"\n        />\n\n        <div>\n          <div>\n            <h3\n              style={{\n                fontSize: 60,\n                fontFamily: \"fantasy\",\n                marginTop: \"30px\",\n                marginLeft: \"350px\"\n              }}\n            >\n              Comercio Informacion\n            </h3>\n          </div>\n\n          <div>\n            <ul>\n              {this.state.comercio.map(comercio => (\n                <img\n                  style={{\n                    marginTop: \"30px\",\n                    marginBottom: \"30px\",\n                    marginLeft: \"120px\",\n                    marginRight: \"50px\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\"\n                  }}\n                  width={400}\n                  height={400}\n                  src={comercio.imagenComercio}\n                  alt=\"Card image cap\"\n                />\n              ))}\n            </ul>\n\n            <h3\n              style={{\n                width: 250,\n                height: 25,\n                borderWidth: 1,\n                margin: 10\n              }}\n            >\n              {this.state.setUploadFile.fileName}\n            </h3>\n          </div>\n\n          <div\n            style={{\n              width: 200,\n              height: 25,\n              borderWidth: 5,\n              margin: 10\n            }}\n          >\n            <Progress percentage={this.state.setUploadPorcentage} />\n          </div>\n\n          <div\n            style={{\n              width: 150,\n              height: 150,\n              borderWidth: 1,\n              margin: 10,\n              flexDirection: \"row\"\n            }}\n          >\n            <input\n              style={{ display: \"none\" }}\n              type=\"file\"\n              onChange={this.fileSelectedHandler}\n              ref={fileInput => (this.fileInput = fileInput)}\n            />\n            <button\n              style={{\n                width: 200,\n                height: 55,\n\n                fontSize: 20,\n                borderRadius: 25,\n                paddingHorizontal: 30,\n                paddingVertical: 5,\n                fontWeight: \"500\",\n                background: \"#BDC3C7\"\n              }}\n              onClick={() => this.fileInput.click()}\n            >\n              Pick file\n            </button>\n            <button\n              style={{\n                width: 200,\n                height: 55,\n                fontSize: 20,\n                borderRadius: 25,\n                paddingHorizontal: 30,\n                paddingVertical: 5,\n                fontWeight: \"500\",\n                background: \"#BDC3C7\"\n              }}\n              onClick={this.fileUploadHandler}\n            >\n              Subir imagen\n            </button>\n          </div>\n\n          <div\n            style={{\n              marginTop: \"50px\",\n              marginLeft: \"150px\",\n              marginRight: \"150px\"\n            }}\n          >\n            <BootstrapTable\n              data={this.state.comercio}\n              striped\n              cellEdit={cellEdit}\n              options={options}\n            >\n              <TableHeaderColumn\n                width=\"150\"\n                dataField=\"idComercio\"\n                isKey={true}\n              >\n                Id Comercio\n              </TableHeaderColumn>\n              <TableHeaderColumn width=\"150\" dataField=\"correoComercio\">\n                Correo Comercio\n              </TableHeaderColumn>\n              <TableHeaderColumn width=\"150\" dataField=\"direccionComercio\">\n                Direccion Comercio\n              </TableHeaderColumn>\n\n              <TableHeaderColumn width=\"150\" dataField=\"nombreTienda\">\n                Nombre Comercio\n              </TableHeaderColumn>\n              <TableHeaderColumn width=\"150\" dataField=\"detalleComercio\">\n                Detalle Comercio\n              </TableHeaderColumn>\n              <TableHeaderColumn width=\"150\" dataField=\"telefonoComercio\">\n                Telefono Comercio\n              </TableHeaderColumn>\n            </BootstrapTable>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default storeInfo;\n"]},"metadata":{},"sourceType":"module"}