{"ast":null,"code":"import _classCallCheck from\"/Users/andrescampovalencia/Desktop/S_Proyectos/BackupShop2/13Dic2020 EcommerceAdmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/andrescampovalencia/Desktop/S_Proyectos/BackupShop2/13Dic2020 EcommerceAdmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/andrescampovalencia/Desktop/S_Proyectos/BackupShop2/13Dic2020 EcommerceAdmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/andrescampovalencia/Desktop/S_Proyectos/BackupShop2/13Dic2020 EcommerceAdmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import Header from\"../header\";import{Link}from\"react-router-dom\";import Axios from\"axios\";var deliveryInCurse=/*#__PURE__*/function(_Component){_inherits(deliveryInCurse,_Component);var _super=_createSuper(deliveryInCurse);function deliveryInCurse(props){var _this;_classCallCheck(this,deliveryInCurse);_this=_super.call(this,props);_this.state={title:\"Please select your title\",ordersInProgres:[],idp:[]};return _this;}_createClass(deliveryInCurse,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"/pedidosStore\").then(function(res){return res.json();}).then(function(ordersInProgres){return _this2.setState({ordersInProgres:ordersInProgres},function(){return console.log(\"ordersInProgres fetched...\",ordersInProgres);});});}},{key:\"renderTableHeader\",value:function renderTableHeader(){var header=[\"id-Pedido\",\"fecha\",\"Hora\",\"Estado-Pedido\",\"Info-Pedido\"];return header.map(function(key,index){return/*#__PURE__*/_jsx(\"th\",{children:key.toUpperCase()},index);});}},{key:\"renderTableData\",value:function renderTableData(){var _this3=this;return this.state.ordersInProgres.map(function(item,index){var idPedido=item.idPedido,fechaPedido=item.fechaPedido,horaPedido=item.horaPedido;//destructuring\nvar pedidoEstado=item.pedidoEstado;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idPedido}),/*#__PURE__*/_jsx(\"td\",{children:fechaPedido}),/*#__PURE__*/_jsx(\"td\",{children:horaPedido}),/*#__PURE__*/_jsx(\"td\",{children:pedidoEstado===1?\"EnProceso\":\"Cancelado\"}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:{pathname:\"/deliveryInCurseInfo\",idP:item.idPedido},children:/*#__PURE__*/_jsx(\"h5\",{children:\" Informacion del Pedido\"})}),/*#__PURE__*/_jsx(Link,{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Pagos\"})}),/*#__PURE__*/_jsx(\"button\",{style:styles.button,onClick:_this3.eliminarP.bind(_this3,item.idPedido),children:\"Eliminar Pedido\"})]})]},idPedido);});}},{key:\"eliminarP\",value:function eliminarP(item){var _this4=this;// Send info to server\nvar idPedido=item;var a={idPedido:idPedido};var url=\"/eliminarPedido\";Axios.post(url,a).then(function(res){if(res){alert(\"Pedido Eliminado\");_this4.componentDidMount();}}).catch(function(e){//\n});}},{key:\"render\",value:function render(){console.log(this.state.ordersInProgres);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{class:\"text-center\",children:/*#__PURE__*/_jsx(Header,{title:\"Pedidos En Proceso\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:60,fontFamily:\"fantasy\",marginTop:\"30px\",marginLeft:\"100px\"},children:\"Pedido En Linea Informacion\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"50px\",marginLeft:\"150px\",marginRight:\"150px\"},children:/*#__PURE__*/_jsx(\"div\",{style:styles.table,children:/*#__PURE__*/_jsx(\"table\",{class:\"table table-striped\",id:\"pedidos\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:this.renderTableHeader()}),this.renderTableData()]})})})})]})]});}}]);return deliveryInCurse;}(Component);export{deliveryInCurse as default};var styles={button:{borderWidth:20,padding:10,borderColor:\"black\",backgroundColor:\"#BFBFBF\"},table:{padding:5}};","map":{"version":3,"sources":["/Users/andrescampovalencia/Desktop/S_Proyectos/BackupShop2/13Dic2020 EcommerceAdmin/client/src/components/vistas/deliveryInCurse.js"],"names":["React","Component","Header","Link","Axios","deliveryInCurse","props","state","title","ordersInProgres","idp","fetch","then","res","json","setState","console","log","header","map","key","index","toUpperCase","item","idPedido","fechaPedido","horaPedido","pedidoEstado","pathname","idP","styles","button","eliminarP","bind","a","url","post","alert","componentDidMount","catch","e","fontSize","fontFamily","marginTop","marginLeft","marginRight","table","renderTableHeader","renderTableData","borderWidth","padding","borderColor","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"../header\";\nimport { Link } from \"react-router-dom\";\nimport Axios from \"axios\";\n\nexport default class deliveryInCurse extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      title: \"Please select your title\",\n      ordersInProgres: [],\n      idp: [],\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/pedidosStore\")\n      .then((res) => res.json())\n      .then((ordersInProgres) =>\n        this.setState({ ordersInProgres }, () =>\n          console.log(\"ordersInProgres fetched...\", ordersInProgres)\n        )\n      );\n  }\n\n  renderTableHeader() {\n    let header = [\"id-Pedido\", \"fecha\", \"Hora\", \"Estado-Pedido\", \"Info-Pedido\"];\n    return header.map((key, index) => {\n      return <th key={index}>{key.toUpperCase()}</th>;\n    });\n  }\n\n  renderTableData() {\n    return this.state.ordersInProgres.map((item, index) => {\n      const { idPedido, fechaPedido, horaPedido } = item; //destructuring\n      const { pedidoEstado } = item;\n\n      return (\n        <tr key={idPedido}>\n          <td>{idPedido}</td>\n          <td>{fechaPedido}</td>\n          <td>{horaPedido}</td>\n          <td>{pedidoEstado === 1 ? \"EnProceso\" : \"Cancelado\"}</td>\n          <td>\n            <Link to={{ pathname: \"/deliveryInCurseInfo\", idP: item.idPedido }}>\n              <h5> Informacion del Pedido</h5>\n            </Link>\n            <Link>\n              <h5>Pagos</h5>\n            </Link>\n            <button\n              style={styles.button}\n              onClick={this.eliminarP.bind(this, item.idPedido)}\n            >\n              Eliminar Pedido\n            </button>\n          </td>\n        </tr>\n      );\n    });\n  }\n\n  eliminarP(item) {\n    // Send info to server\n    var idPedido = item;\n\n    const a = {\n      idPedido: idPedido,\n    };\n    const url = \"/eliminarPedido\";\n    Axios.post(url, a)\n      .then((res) => {\n        if (res) {\n          alert(\"Pedido Eliminado\");\n          this.componentDidMount();\n        }\n      })\n      .catch((e) => {\n        //\n      });\n  }\n\n  render() {\n    console.log(this.state.ordersInProgres);\n\n    return (\n      <div>\n        <div class=\"text-center\">\n          <Header title=\"Pedidos En Proceso\" />\n        </div>\n        <div>\n          <div>\n            <h2\n              style={{\n                fontSize: 60,\n                fontFamily: \"fantasy\",\n                marginTop: \"30px\",\n                marginLeft: \"100px\",\n              }}\n            >\n              Pedido En Linea Informacion\n            </h2>\n          </div>\n          <div\n            style={{\n              marginTop: \"50px\",\n              marginLeft: \"150px\",\n              marginRight: \"150px\",\n            }}\n          >\n            <div style={styles.table}>\n              <table class=\"table table-striped\" id=\"pedidos\">\n                <tbody>\n                  <tr>{this.renderTableHeader()}</tr>\n                  {this.renderTableData()}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  button: {\n    borderWidth: 20,\n    padding: 10,\n    borderColor: \"black\",\n    backgroundColor: \"#BFBFBF\",\n  },\n  table: {\n    padding: 5,\n  },\n};\n"]},"metadata":{},"sourceType":"module"}